{"ast":null,"code":"var _jsxFileName = \"C:\\\\Dia D Mini\\\\HocHanh\\\\java\\\\frontend\\\\src\\\\pages\\\\listing\\\\FilterTop.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation, Link } from \"react-router-dom\";\nimport { GET_PAGE, GET_ID } from \"../../api/apiService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FilterTop = () => {\n  _s();\n  const [products, setProducts] = useState([]);\n  const [categories, setCategories] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const numItems = 8;\n  const navigate = useNavigate();\n  const location = useLocation();\n  const queryParams = new URLSearchParams(location.search);\n  const currentPage = parseInt(queryParams.get(\"page\")) || 1;\n  let categoryId = queryParams.get(\"categoryId\");\n  const handlePageChange = page => {\n    // Navigate to a new URL with the updated page parameter\n    navigate(`/ListingGrid?page=${page}&categoryId=${categoryId}`);\n  };\n  const handlePrevious = () => {\n    if (currentPage > 1) {\n      handlePageChange(currentPage - 1);\n    }\n  };\n  const handleNext = () => {\n    if (currentPage < totalPages) {\n      handlePageChange(currentPage + 1);\n    }\n  };\n  const renderPageNumbers = () => {\n    const pageNumbers = [];\n    for (let i = 1; i <= totalPages; i++) {\n      pageNumbers.push( /*#__PURE__*/_jsxDEV(\"li\", {\n        className: `page-item ${currentPage === i ? \"active\" : \"\"}`,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"page-link\",\n          to: `?page=${i}&categoryId=${categoryId}`,\n          onClick: event => handlePageChange(i, event),\n          children: i\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 3\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 3\n      }, this));\n    }\n    return pageNumbers;\n  };\n  useEffect(() => {\n    if (categoryId === \"null\") {\n      categoryId = null;\n    }\n    GET_PAGE(`products`, currentPage - 1, numItems, categoryId).then(response => {\n      setProducts(response.data);\n      const contentRangeHeader = response.headers[\"content-range\"];\n      const [, totalItems] = contentRangeHeader.match(/\\/(\\d+)/);\n      const calculatedTotalPages = Math.ceil(totalItems / numItems);\n      setTotalPages(calculatedTotalPages);\n    });\n    if (categoryId !== null) {\n      GET_ID(`categories`, categoryId).then(item => setCategories(item.data));\n    } else {\n      setCategories({\n        name: \"Tất cả sản phẩm\"\n      });\n    }\n  }, [categoryId, currentPage]);\n  return s;\n};\n_s(FilterTop, \"eQXIUUGdMMnZaRUC4Dm2ZY4d5qg=\", false, function () {\n  return [useNavigate, useLocation];\n});\n_c = FilterTop;\nexport default FilterTop;\nvar _c;\n$RefreshReg$(_c, \"FilterTop\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useLocation","Link","GET_PAGE","GET_ID","jsxDEV","_jsxDEV","FilterTop","_s","products","setProducts","categories","setCategories","totalPages","setTotalPages","numItems","navigate","location","queryParams","URLSearchParams","search","currentPage","parseInt","get","categoryId","handlePageChange","page","handlePrevious","handleNext","renderPageNumbers","pageNumbers","i","push","className","children","to","onClick","event","fileName","_jsxFileName","lineNumber","columnNumber","then","response","data","contentRangeHeader","headers","totalItems","match","calculatedTotalPages","Math","ceil","item","name","s","_c","$RefreshReg$"],"sources":["C:/Dia D Mini/HocHanh/java/frontend/src/pages/listing/FilterTop.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation, Link } from \"react-router-dom\";\nimport { GET_PAGE, GET_ID } from \"../../api/apiService\";\nconst FilterTop = () => {\nconst [products, setProducts] = useState([]);\nconst [categories, setCategories] = useState(1);\nconst [totalPages, setTotalPages] = useState(1);\nconst numItems = 8;\nconst navigate = useNavigate();\nconst location = useLocation();\nconst queryParams = new URLSearchParams(location.search);\nconst currentPage = parseInt(queryParams.get(\"page\")) || 1;\nlet categoryId = queryParams.get(\"categoryId\");\nconst handlePageChange = (page) => {\n  // Navigate to a new URL with the updated page parameter\n  navigate(`/ListingGrid?page=${page}&categoryId=${categoryId}`);\n  };\n  const handlePrevious = () => {\n  if (currentPage > 1) {\n  handlePageChange(currentPage - 1);\n  }\n  };\n  const handleNext = () => {\n  if (currentPage < totalPages) {\n  handlePageChange(currentPage + 1);\n  }\n  };\n  const renderPageNumbers = () => {\n  const pageNumbers = [];\n  for (let i = 1; i <= totalPages; i++) {\n  pageNumbers.push(\n  <li\n  key={i}\n  className={`page-item ${currentPage === i ? \"active\" : \"\"}`}\n  >\n  <Link\n  className=\"page-link\"\n  to={`?page=${i}&categoryId=${categoryId}`}\n  onClick={(event) => handlePageChange(i, event)}\n  >\n  {i}\n  </Link>\n  </li>\n  );\n}\nreturn pageNumbers;\n};\nuseEffect(() => {\nif (categoryId === \"null\") {\ncategoryId = null;\n}\nGET_PAGE(`products`, currentPage - 1, numItems, categoryId).then(\n(response) => {\nsetProducts(response.data);\nconst contentRangeHeader = response.headers[\"content-range\"];\nconst [, totalItems] = contentRangeHeader.match(/\\/(\\d+)/);\nconst calculatedTotalPages = Math.ceil(totalItems / numItems);\nsetTotalPages(calculatedTotalPages);\n}\n);\nif (categoryId !== null) {\nGET_ID(`categories`, categoryId).then((item) => setCategories(item.data));\n} else {\nsetCategories({ name: \"Tất cả sản phẩm\" });\n}\n}, [categoryId, currentPage]);\nreturn (\ns\n);\n};\nexport default FilterTop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}